

```csharp
using Microsoft.EntityFrameworkCore;
using Microsoft.Extensions.DependencyInjection;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;

namespace AdventureWorks2022.ConsoleApp
{
    public class Program
    {
        public static void Main(string[] args)
        {
            // Set up the database context
            var serviceProvider = new ServiceCollection()
                .AddDbContext<AdventureWorks2022DbContext>()
                .BuildServiceProvider();

            // Create a scope to use the context
            using (var scope = serviceProvider.CreateScope())
            {
                var context = scope.ServiceProvider.GetRequiredService<AdventureWorks2022DbContext>();

                // Perform database operations
                try
                {
                    // Example: Retrieve all persons
                    var persons = context.Persons.ToList();
                    foreach (var person in persons)
                    {
                        Console.WriteLine($"Name: {person.FirstName} {person.LastName}");
                    }
                }
                catch (Exception ex)
                {
                    Console.WriteLine($"An error occurred: {ex.Message}");
                }
            }
        }
    }

    public class AdventureWorks2022DbContext : DbContext
    {
        public DbSet<Person> Persons { get; set; }

        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
        {
            optionsBuilder.UseSqlServer("YourConnectionStringHere");
        }
    }

    public class Person
    {
        public int PersonId { get; set; }
        public string FirstName { get; set; }
        public string LastName { get; set; }
        // Add other properties as needed
    }
}
```

Replace "YourConnectionStringHere" with your actual SQL Server connection string.

This code sets up a console application using Entity Framework Core to interact with the AdventureWorks2022 database. It defines a `Person` entity class and a `AdventureWorks2022DbContext` class that represents the database context. The `Main` method creates a service provider, creates a scope to use the context, and retrieves all persons from the database, printing their names to the console. Make sure to install the necessary Entity Framework Core packages and configure the connection string correctly.